## Chapter 9 Graphs

### 9.1 图的定义与术语
一个图**G(V,E)**由**顶点（vertex）**和**边（edge）**组成，其中V是顶点的集合，E是边的集合。一条边就是(v,w)，其中v,w∈V。如果边是有序对，则图是**有向图（directed graph）**，否则是无向图。如果图中的边有权（weight）或者值（cost），则称为加权图。

顶点也称为节点（node）。边也称为弧（arc）。有向图可简写为digraph。

**路径（path）**是图中的顶点序列w1,w2,...,wn，其中每个顶点都通过边连接到下一个顶点。

路径的**长度（length of path）**是路径上边的数量，等于N-1。

**简单路径**：路径中的顶点不重复出现，但第一个和最后一个顶点可以相同。

**环**：如果路径的第一个顶点和最后一个顶点相同，则称为**环（cycle）**。
* 对于无向图，路径u,v,u不是环，因为(u,v)和(v,u)是同一条边。
* 对于有向图，路径u,v,u是环,因为(u,v)和(v,u)是不同的边。

**deg(v)**：与顶点相连的边的数量。
* 一个环贡献2度。

**相邻顶点（adjacent vertices）**：如果两个顶点之间有边，则称这两个顶点是相邻的。
* 对于有向图中的路径（u，v），u is adjacent **to** v，v is adjacent **from** u。

in-degree：指向顶点的边的数量。

out-degree：从顶点出发的边的数量。

**DAG（Directed Acyclic Graph）**：有向无环图。

**连通图（connected graph）**：无向图中，任意两个顶点都有路径相连的图。

**强连通图（strongly connected graph）**：有向图中，任意两个顶点都有路径相连的图。

**弱连通图（weakly connected graph）**：不是强连通的、去掉边的方向能得到连通图的图。

***握手定理（handshaking theorem）***：
$$2|E|=\sum_{v\in V}deg(v)$$

* 推论1：所有顶点的度数之和是偶数
* 推论2：奇数度数的顶点的数量是偶数

### 9.2 图的应用
选课系统中，顶点是课程，边是先修课程。

链表、树都可以泛化为图。

在状态机中，顶点是状态，边是状态转移。

### 9.3 图的表示
图有两种表示方法：邻接矩阵和邻接表。

#### 1、邻接矩阵（adjacency matrix）
映射为 $M(v,w)=\begin{cases}1 & \text{if } (v,w)\in E\\0 & \text{otherwise}\end{cases}$

（1）无向图的邻接矩阵是**对称的**，因为(v,w)和(w,v)是同一条边。

![无向图的邻接矩阵](pics/屏幕截图%202024-11-07%20094436.png)

（2）有向图的邻接矩阵是**非对称的**。

![有向图的邻接矩阵](pics/屏幕截图%202024-11-07%20100535.png)

性质：
* 空间复杂度：$O(V^2)$
* 对于稀疏的图，邻接矩阵的空间浪费很大。


#### 2、邻接表（adjacency list）
邻接表是标准的表示方法，每个顶点都有一个邻接表，其中包含与该顶点**相邻**的顶点列表。

(1)无向图的邻接表：

![无向图的邻接表](pics/屏幕截图%202024-11-07%20101751.png)

(2)有向图的邻接表：

![有向图的邻接表](pics/屏幕截图%202024-11-07%20101818.png)

性质：
* 空间复杂度：
  * 无向图的邻接表：$O(a|V|+2b|E|)$
  * 有向图的邻接表：$O(a|V|+b|E|)$
  * 简写为$O(|V|+|E|)$

### 9.4 拓扑排序（topological sort）
